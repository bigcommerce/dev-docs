# Big Open Data Layer GA4 Event Reference

<!-- theme: info -->
> Big Open Data Layer (shortened as `BODL`, pronounced 'Bottle') is a global JavaScript object that integrates BigCommerce storefronts with third-party analytics providers. 

BODL packages information about what is happening on a storefront in ways that analytics scripts are expecting. When a shopper triggers a GA4-supported event, BODL matches up fields from the GA4 data map with values from the BIGC data map.

This article is a reference for the capture events that BODL exposes to connect stores with [Google Analytics 4](https://support.google.com/analytics/answer/10089681), Google's event-based measurement property.

## Supported events

| Event Name | Google Analytics object | BODL object |
|:---|:---|:---|
| [Begin checkout](#begin-checkout-event) | [begin_checkout](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#begin_checkout) | `bodl_v1_begin_checkout` |
| [Order purchased](#order-purchased-event) | [purchase](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) | `bodl_v1_order_purchased` |


## Begin checkout event

When the shopper clicks on the button to initiate a checkout process, a browser event is emitted. BODL fetches GA4's [begin_checkout event object](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#begin_checkout) and stores the following fields into the `bodl_v1_begin_checkout` object: 

| Event field | Type | Description | BigC data map | GA4 data map | Required for GA4? |
|:---|:---|:---|:---|:---|:--:|
| `event_id` | string | Unique ID for each event instance. | Unique event ID generated by BigCommerce. Not needed for GA4. | Not sent to Google Analytics. | - |
| `channel_id` | string | The BigCommerce channel ID. | Channel ID of the channel where checkout is taking place. Not needed for GA4. | Not sent to Google Analytics. | - |
| `currency` | string | [ISO-4217 currency code](https://en.wikipedia.org/wiki/ISO_4217) of the order.  BC tracks currency for a cart and not for each line item within the cart. | [Get a cart](/api-reference/store-management/carts/cart/getacart) <br> `currency.code` | [Begin checkout event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#begin_checkout) <br> `currency` | Y |
| `cart_value` | number | Final value of cart after taxes, discounts, and coupons are applied. | [Get a cart](/api-reference/store-management/carts/cart/getacart) <br> `cart_amount` | [Begin checkout event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#begin_checkout) <br> `value` | Y |
| `coupon_codes[]` | array of strings | Coupon codes applied to the cart. | [Get a cart](/api-reference/store-management/carts/cart/getacart) <br> `coupons.code` | [Begin checkout event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#begin_checkout) <br> `coupon` | N |
| `line_items[]` | array of `line_item` objects | Items being checked out. | See [line_item](#common-event-fields-line_item-object) object for event fields | [Begin checkout event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#begin_checkout) <br> `items[]` | Y |


## Order purchased event

When the shopper clicks a button to finalize a purchase, a browser event is emitted. BODL fetches GA4's [purchase event object](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) and stores the following fields into the `bodl_v1_order_purchased` object: 

| Event field | Type | Description | BigC data map | GA4 data map | Required for GA4? |
|:---|:---|:---|:---|:---|:--:|
| `event_id` | string | Unique ID for each event instance. | Unique event ID generated by BigCommerce. Not needed for GA4. | Not sent to Google Analytics. | - |
| `channel_id` | string | The BigCommerce channel ID. | Channel ID of the channel where checkout is taking place. Not needed for GA4. | Not sent to Google Analytics. | - |
| `currency` | string | [ISO-4217 currency code](https://en.wikipedia.org/wiki/ISO_4217) of the order. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br>  `data.cart.currency.code` | [Purchase event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) <br> `currency` | Y |
| `order_id` | string | Unique transaction ID generated by BigCommerce to prevent duplicate purchase records. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br> `data.order_id` | [Purchase event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) <br> `transaction_id` | Y |
| `cart_value` | number | Final value of cart after taxes, discounts, and coupons are applied. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br> `data.cart.cart_amount_inc_tax` | [Purchase event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) <br> `value` | Y |
| `coupon_codes[]` | array of strings | Coupon codes applied to the purchase. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br> `data.cart.coupons[].code` | [Purchase event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) <br> `coupon` | N |
| `shipping_cost` | number | Total shipping cost including tax. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br> `data.shipping_cost_total_inc_tax` | [Purchase event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) <br> `shipping` | N |
| `tax` | number | Tax incurred. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br> `data.tax_total` | [Purchase event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) <br> `tax` | N |
| `line_items[]` | array of `line_item` objects | Items being purchased. | See [line_item](#common-event-fields-line_item-object) object for event fields | [Purchase event](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase) <br> `items[]` | Y |

### Common event fields: line_item object

For many web browser events, BODL fetches GA4's [Begin checkout item object](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#begin_checkout_item) and [Purchase item object](https://developers.google.com/analytics/devguides/collection/ga4/reference/events#purchase_item) and stores them in the `line_item` object. The `line_item` object includes the following fields:   

| Web browser event fields | Type | Description | BigC data map | GA4 data map | Required for GA4? |
| - | - | - | - | - | - |
| `product_id` | string | ID of the product. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.id` | `item_id` <br> <br> Populate this field using the following order of availability: <br> - Product SKU <br> - Product ID | Y |
| `product_name` | string | Name of the product. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.name` | `item_name` | Y |
| `sku` | string | User-defined SKU for the product or variant (whichever is applied). | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.sku` or `data.variants.sku` | `item_id`<br> <br> Populate this field using the following order of availability: <br> - Product SKU <br> - Product ID | Y |
| `base_price` | number | Price of product. Default price in the control panel. The price should include or exclude tax, based on the store settings. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.price` | - | N |
| `sale_price` | number | Price of product after sale. The price should include or exclude tax, based on the store settings. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.sale_price` | Not sent to Google Analytics. | - |
| `retail_price` | number | Maximum suggested retail price (MSRP). The price should include or exclude tax, based on the store settings. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.retail_price` | Not sent to Google Analytics. | - | 
| `purchase_price` | number | Final price of product that the shopper actually pays before taxes and other charges. Equals the `base_price` unless there is a `sale_price`. The price should include or exclude tax, based on the store settings. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.sale_price` or `data.base_price` | - | Y |
| `quantity` | number | Number of items of product purchased. | [Get a cart](/api-reference/store-management/carts/cart/getacart) <br> `data.line_items.physical_items.quantity` or <br> `data.line_items.digital_items.quantity` | `quantity` | N |
| `currency` | string | [ISO-4217 currency code](https://en.wikipedia.org/wiki/ISO_4217) for the transaction. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br>  `data.cart.currency.code`  | `currency` | N |
| `discount` | number | Discount applied to purchase. | [Get a checkout](/api-reference/store-management/checkouts/checkout/checkoutsbycheckoutidget) <br> `data.cart.discount_amount` | `discount` | N |
| `index` | integer | Position of item in a list. | - | `index` | N |
| `brand_name` | string | Brand name. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.brand_name` | `brand` | N |
| `category_names[]` | array | Category names. | [Get a product](/api-reference/store-management/catalog/products/getproductbyid) <br> `data.categories[]` | `item_category` | N |

## Resources
* [Google Analytics 4 (BigCommerce Support Center)](https://support.bigcommerce.com/s/article/GA4)
* [BODL for Storefronts](/api-docs/analytics/bodl-for-storefronts)
