<!DOCTYPE html>
    <html>
    <head>
        <meta http-equiv="Content-type" content="text/html;charset=UTF-8">
        <title>Passwordless Customer Login</title>
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.10.0/dist/katex.min.css" integrity="sha384-9eLZqc9ds8eNjO3TmqPeYcDj8n+Qfa4nuSiGYa6DjLNcv9BtN69ZIulL9+8CqC9Y" crossorigin="anonymous">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
        <link href="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.css" rel="stylesheet" type="text/css">
        <style>
.task-list-item { list-style-type: none; } .task-list-item-checkbox { margin-left: -20px; vertical-align: middle; }
</style>
        <style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        
        <script src="https://cdn.jsdelivr.net/npm/katex-copytex@latest/dist/katex-copytex.min.js"></script>
    </head>
    <body>
        <h1 id="passwordless-customer-login">Passwordless Customer Login</h1>
<div class="otp" id="no-index">
<h3 id="on-this-page">On this Page</h3>
<ul>
<li><a href="#logging-in-customers-via-email-link">Logging in customers via email link</a></li>
<li><a href="#sending-the-request">Sending the request</a></li>
<li><a href="#additional-resources">Additional Resources</a></li>
</ul>
</div>
<h2 id="logging-in-customers-via-email-link">Logging in customers via email link</h2>
<p>Your application can send shoppers a one-time link via email that will sign them in to their <a href="https://support.bigcommerce.com/s/article/Customer-Account-Creation">storefront account</a>.</p>
<p>Use cases for this include:</p>
<ul>
<li>Reducing friction for customers, allowing them to proceed without needing to reset their passwords</li>
<li>Providing an alternate method for signing in customers versus using the <a href="https://developer.bigcommerce.com/api-docs/customers/customer-login-api">Customer Login API</a></li>
</ul>
<h2 id="sending-the-request">Sending the request</h2>
<p>Send a <code>POST</code> request to
<code>{store-url}/login.php?action=passwordless_login</code></p>
<p>The request body should include:</p>
<ul>
<li><code>email</code>: The customer's email address. This email address is where they will receive the one-time login link.</li>
<li><code>redirect_url</code>: A link to the URL of the page where you want to redirect customers once they are logged in. This URL must be on the same domain as the store.
<br>
Example:
<br></li>
</ul>
<pre><code class="language-json"><div>{
<span class="hljs-attr">"email"</span>: <span class="hljs-string">"jane_doe@test.com"</span>,
<span class="hljs-attr">"redirect_url"</span>: <span class="hljs-string">"/checkout"</span>
}
</div></code></pre>
<div class="HubBlock--callout">
<div class="CalloutBlock--">
<div class="HubBlock-content">
<!-- theme:  -->
<h3 id="redirect-url">Redirect URL</h3>
<blockquote>
<p>If the request body does not include a <code>redirect_url</code>, customers will be redirected as follows:
<br></p>
<ul>
<li><strong>Failed sign-in:</strong> Sign-in page</li>
<li><strong>Successful sign-in:</strong> User account page</li>
</ul>
</blockquote>
</div>
</div>
</div>
<h3 id="response">Response</h3>
<p>Upon receiving a successful <code>POST</code> request, BigCommerce will send a response that contains:</p>
<ul>
<li><code>expiry</code>: The time in seconds during which the login link is valid.</li>
<li><code>sent_email</code>: A value of <code>sign_in</code> indicates BigCommerce sent the login link to the customer via the email provided. A value of <code>password_reset</code> means the customer requested a sign-in link, however BigCommerce sent a reset password email instead. BigCommerce sends the email immediately upon recieving the <code>POST</code> request.</li>
</ul>
<p>Example:</p>
<pre><code class="language-json"><div>{
<span class="hljs-attr">"expiry"</span>: <span class="hljs-number">900</span>,
<span class="hljs-attr">"sent_email"</span>: <span class="hljs-string">"sign_in"</span>
}
</div></code></pre>
<h3 id="email-text">Email text</h3>
<p>The customer will receive an email with the following subject line:</p>
<p><strong>{Store name} - Log in to your account</strong></p>
<p>The body of the email contains the following:</p>
<pre><code class="language-html"><div>Please click the link below to sign in to your account with {store name}.

You have requested a sign-in link. Please click here to sign in and continue.

Alternatively, paste the following link in your browser:
https://store-url/login.php?action=check_passwordless_login&amp;token={token}&amp;redirectUrl={redirect_URL}

This login is for {Store name} if you did not request this link, please ignore this email. Your account is still secure.
</div></code></pre>
<p>This email uses the same email templates as other emails in your store.</p>
<p><strong>Other status codes:</strong></p>
<p><code>429</code>: <em>Too many requests, request was rate limited</em></p>
<p><code>404</code>: <em>Provided email does not belong to a customer</em></p>
<h2 id="additional-resources">Additional Resources</h2>
<ul>
<li><a href="https://developer.bigcommerce.com/api-reference/storefront/customer-login-sso">Customer Login SSO</a></li>
<li><a href="https://developer.bigcommerce.com/api-reference/store-management/customers-v3">Customers V3</a></li>
</ul>

    </body>
    </html>